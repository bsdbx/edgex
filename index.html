<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden; /* Prevent horizontal scroll */
    }

    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .card {
      width: 300px;
      margin: 15px;
      background-color: rgb(34,34,36);
      border-radius: 20px;
      text-align: center;
      overflow: hidden;
      transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card img {
      width: 100%;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }

    .card-content {
      padding: 20px;
      font-family: sans-serif;
      font-size: 18px;
      color: rgb(180,180,180);
    }

    .card-content h2 {
      margin: 0;
      color: rgb(116, 142, 234);
    }

    .card:hover {
      background-color: rgb(44,44,48); /* Slightly lighter */
      transform: scale(1.02);
      box-shadow: 0 0 20px rgba(116, 142, 234, 0.6);
    }

    /* Modal Styling */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.3s ease-in-out;
      z-index: 9999;
    }

    .modal-content {
      position: relative;
      width: 80%;
      height: 80%;
      max-width: 1200px;
      max-height: 800px;
      overflow: hidden;
    }

    .modal-content img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border: none;
    }
  </style>
</head>
<body>

<div style="text-align: center;">
  <p>
    <img src="https://assets.superhivemarket.com/cache/d96288870307ef5c07aca4dfb05194ac.png" style="max-width: 100%; width: 400px;">
  </p>
  <hr>
  <p><b>EdgeX is a handy interface Add-on for Blender 3D.</b></p>
  <p><b>The Add-on extends vanilla functionality with handy pie menus that extend performance and speed. It features various utilities, including Quick Crease and Bevel Weight tools, Selection utilities, Edge Marking and more!</b></p>
</div>

<h1 style="text-align: center;">Pie Menus</h1>

<div class="card-container">

  <div class="card" onclick="showGif('https://assets.superhivemarket.com/cache/7803e31dbc5d11117455503de014503f.gif')">
    <img src="https://assets.superhivemarket.com/cache/7803e31dbc5d11117455503de014503f.gif">
    <div class="card-content">
      <h2>Attribute Set</h2>
      <p>Quickly add or remove <b>Crease</b> or <b>Bevel Weight</b>. Adjust attributes and values precisely.</p>
    </div>
  </div>

  <div class="card" onclick="showGif('https://assets.superhivemarket.com/cache/cdb735e6709b3d02d4a3469bedfd953f.gif')">
    <img src="https://assets.superhivemarket.com/cache/cdb735e6709b3d02d4a3469bedfd953f.gif">
    <div class="card-content">
      <h2>Quick Attribute</h2>
      <p>Change <b>Crease</b> or <b>Bevel Weight</b> via a property. Supports math expressions.</p>
    </div>
  </div>

  <div class="card" onclick="showGif('https://assets.superhivemarket.com/cache/e646dc803d1e0e01f680ee2f71176703.gif')">
    <img src="https://assets.superhivemarket.com/cache/e646dc803d1e0e01f680ee2f71176703.gif">
    <div class="card-content">
      <h2>Attribute Select</h2>
      <p>Select by <b>Crease</b> or <b>Bevel Weight</b> using criteria: Equal, Not Equal, Greater Than, etc.</p>
    </div>
  </div>

  <div class="card" onclick="showGif('https://assets.superhivemarket.com/cache/f17fb141117dd1dc26c09171adba067c.gif')">
    <img src="https://assets.superhivemarket.com/cache/f17fb141117dd1dc26c09171adba067c.gif">
    <div class="card-content">
      <h2>Quick Mark</h2>
      <p>Assign/remove edge marks: <b>Sharp</b>, <b>Seam</b>, <b>Freestyle</b>.</p>
    </div>
  </div>

  <div class="card" onclick="showGif('https://assets.superhivemarket.com/cache/d92582ba963d9f5540f57ca8c6110422.gif')">
    <img src="https://assets.superhivemarket.com/cache/d92582ba963d9f5540f57ca8c6110422.gif">
    <div class="card-content">
      <h2>Mark Select</h2>
      <p>Select edges by marking type or angle: <b>Sharp</b>, <b>Seam</b>, <b>Freestyle</b>, or none.</p>
    </div>
  </div>

</div>

<!-- Modal for displaying GIF -->
<div id="gifModal" class="modal" onclick="closeModal()">
  <div class="modal-content">
    <img id="modalGif" style="width: 100%; height: 100%; object-fit: contain; border: none; display: none;">
  </div>
</div>

<script>
  function showGif(gifUrl) {
    const modal = document.getElementById('gifModal');
    const modalGif = document.getElementById('modalGif');
    modal.style.display = "flex";
    modalGif.src = gifUrl;
    modalGif.style.display = "block";
    document.body.style.overflow = "hidden"; // Disable scrolling on the parent page
    resizeIframe();  // Resize iframe to full screen if embedded

    // Centering modal correctly even within iframe context
    if (window.top === window) {
      // Not inside an iframe, so don't do anything special
      return;
    }
    // Make modal appear centered on top-level window when iframe is used
    window.top.document.body.style.overflow = "hidden"; // Disable scrolling
  }

  function closeModal() {
    const modal = document.getElementById('gifModal');
    const modalGif = document.getElementById('modalGif');
    modal.style.display = "none";
    modalGif.style.display = "none";
    modalGif.src = '';
    document.body.style.overflow = "auto"; // Re-enable scrolling on the parent page
    resetIframe();  // Reset iframe size if embedded

    if (window.top === window) {
      // Not inside an iframe, so don't do anything special
      return;
    }
    window.top.document.body.style.overflow = "auto"; // Re-enable scrolling
  }

  window.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      closeModal();
    }
  });

  // Function to resize iframe when modal is shown
  function resizeIframe() {
    const iframe = document.getElementById('iframeExample');
    iframe.style.position = 'absolute';
    iframe.style.top = '0';
    iframe.style.left = '0';
    iframe.style.width = '100%';
    iframe.style.height = '100%';
    iframe.style.border = 'none';
  }

  // Function to reset iframe size when modal is closed
  function resetIframe() {
    const iframe = document.getElementById('iframeExample');
    iframe.style.position = 'relative';
    iframe.style.width = '600px'; // or your default iframe width
    iframe.style.height = '400px'; // or your default iframe height
  }
</script>

</body>
</html>
